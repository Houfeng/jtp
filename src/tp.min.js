/**
 * tp 2.1
 * tp 模板引擎，最简洁高效的js模板引擎
 * tp 可应用于Node.js，也可以在浏览器环境下使用。
 * 作者：侯锋
 * 邮箱：admin@xhou.net
 * 网站：http://houfeng.net , http://houfeng.net/tp
 */
(function(a){var b={outTransferred:function(d){d=d.replace(new RegExp("\\{1}","gim"),"\\\\");d=d.replace(new RegExp("\r{1}","gim"),"");d=d.replace(new RegExp("\n{1}","gim"),"\\n");
d=d.replace(new RegExp("\r{1}","gim"),"\\r");d=d.replace(new RegExp('"{1}',"gim"),'\\"');return d;},inTransferred:function(d){return d.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&");
},invoke:function(e){try{return e();}catch(d){return d.description||d.message;}}};a.option={codeBegin:"{#",codeEnd:"#}"};a.compile=function(d,k){d=d||"";
k=k||{};k.codeBegin=k.codeBegin||a.option.codeBegin;k.codeEnd=k.codeEnd||a.option.codeEnd;var h=new RegExp(k.codeBegin,"gim");var j=new RegExp(k.codeEnd,"gim");
var e=new RegExp("("+k.codeBegin+"(.|\n|\r)*?"+k.codeEnd+")","gim");var f=["var $=function(x){$.buffer.push(x);};$.buffer=[];"];var m=d.match(e);var n=d.replace(e,"▎").split("▎");
for(var g=0;g<n.length;g++){f.push('$("'+b.outTransferred(n[g])+'");');if(m&&m[g]){f.push(m[g].replace(h,"").replace(j,"")+";");}}f.push('return $.buffer.join("");');
var l=function(i){i=i||{};return b.invoke(function(){return l.src.call(i,i)||"";});};b.invoke(function(){l.src=new Function(f.join(""));});return l;};a.parse=function(g,d,f){var e=a.compile(g,f);
return e(d);};if(typeof window!=="undefined"&&window.document){a.queryElement=function(d){return window.document.getElementById(d);};var c={};a.bind=function(d){d=d||{};
d.el=d.el||d.element;d.el=(typeof d.el==="string")?a.queryElement(d.el):d.el;d.tp=d.tp||d.template||d.el;d.tp=(typeof d.tp==="string")?(a.queryElement(d.tp)||d.tp):d.tp;
if(!d.tp||!d.el){return;}c[d.tp]=c[d.tp]||a.compile(b.inTransferred(d.tp.innerHTML||d.tp),d);if(d.append){d.el.innerHTML+=c[d.tp](d.model);}else{d.el.innerHTML=c[d.tp](d.model);
}};}})((function(){var a=(typeof exports==="undefined")?{}:exports;if(typeof define==="function"&&define.amd){define("tp",[],function(){return a;});}if(typeof window!=="undefined"){window.jtp=window.tp=a;
}return a;})());