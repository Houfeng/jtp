/**
 * jtp 1.4
 * jtp 模板引擎，最简洁高效的js模板引擎
 * jtp 可应用于Node.js，也可以在浏览器环境下使用。
 * 作者：侯锋
 * 邮箱：admin@xhou.net
 * 网站：http://houfeng.net , http://houfeng.net/jtp
 */

(function(a){var b={outTransferred:function(c){c=c.replace(new RegExp("\\{1}","gim"),"\\\\");c=c.replace(new RegExp("\r{1}","gim"),"");c=c.replace(new RegExp("\n{1}","gim"),"\\n");
c=c.replace(new RegExp('"{1}',"gim"),'\\"');return c;},inTransferred:function(c){return c.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&");
},invoke:function(d){try{return d();}catch(c){return c.description||c.message;}}};a.option={codeBegin:"{#",codeEnd:"#}"};a.compile=function(c,j){c=c||"";
j=j||{};j.codeBegin=j.codeBegin||a.option.codeBegin;j.codeEnd=j.codeEnd||a.option.codeEnd;var g=new RegExp(j.codeBegin,"gim");var h=new RegExp(j.codeEnd,"gim");
var d=new RegExp("("+j.codeBegin+"(.|\n)*?"+j.codeEnd+")","gim");var e=["var $=function(x){$.buffer.push(x);};$.buffer=[];"];var l=c.match(d);var m=c.replace(d,"▎").split("▎");
for(var f=0;f<m.length;f++){e.push('$("'+b.outTransferred(m[f])+'");');if(l&&l[f]){e.push(l[f].replace(g,"").replace(h,"")+";");}}e.push('return $.buffer.join("");');
var k=function(i){i=i||{};return b.invoke(function(){return k.src.call(i,i)||"";});};b.invoke(function(){k.src=new Function(e.join(""));});return k;};a.parse=function(f,c,e){var d=a.compile(f,e);
return d(c);};a.element=(window==null?null:function(c,d){if(!c){return;}if(!c.jtp){c.jtp={exec:a.compile(b.inTransferred(c.innerHTML),d),bind:function(e){c.innerHTML=c.jtp.exec(e);
},append:function(e){c.innerHTML+=c.jtp.exec(e);}};c.innerHTML="";}return c.jtp;});})((function(){var a=(typeof exports==="undefined")?{}:exports;if(window){window.jtp=a;
}if(typeof define==="function"&&define.amd&&define.amd.jtp){define("jtp",[],function(){return a;});}return a;})());