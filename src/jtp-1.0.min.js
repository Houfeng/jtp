var jtp={};(function(a){a.helper={codeBegin:"<@",codeEnd:"@>",replaceChar:function(b){b=b.replace(new RegExp("\\{1}","gim"),"\\\\");b=b.replace(new RegExp("\r{1}","gim"),"");
b=b.replace(new RegExp("\n{1}","gim"),"\\n");b=b.replace(new RegExp('"{1}',"gim"),'\\"');return b;},tryInvoke:function(c){try{return c();}catch(b){if(a.debugMode){throw b;
}else{return b.description||b.message;}}}};a.debugMode=false;a.compile=function(b,k){b=b||"";k=k||{};k.codeBegin=k.codeBegin||a.helper.codeBegin;k.codeEnd=k.codeEnd||a.helper.codeEnd;
var g=new RegExp(k.codeBegin,"gim");var h=new RegExp(k.codeEnd,"gim");var c=new RegExp("("+k.codeBegin+"(.|\n)*?"+k.codeEnd+")","gim");var e=["var jtp={buffer:[],print:function(x){jtp.buffer.push(x);}};var $=jtp.print;"];
var l=b.match(c);var m=b.replace(c,"▎").split("▎");for(var f=0;f<m.length;f++){e.push('jtp.print("'+a.helper.replaceChar(m[f])+'");');if(l&&l[f]){e.push(l[f].replace(g,"").replace(h,"")+";");
}}e.push('return jtp.buffer.join("");');var j=function(){};a.helper.tryInvoke(function(){j=new Function(e.join(""));});var d=function(i){i=i||a||{};return a.helper.tryInvoke(function(){return j.call(i,i)||"";
});};d.src=j;return d;};a.parse=function(e,b,d){var c=a.compile(e,d);return c(b);};})(typeof exports==="undefined"?jtp:exports);