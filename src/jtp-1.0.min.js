var jtp={};(function(a){a.codeBegin="<@";a.codeEnd="@>";a.helper={codeExp:new RegExp("("+a.codeBegin+"(.|\n)*?"+a.codeEnd+")","gim"),codeBeginExp:new RegExp(a.codeBegin,"gim"),codeEndExp:new RegExp(a.codeEnd,"gim"),replaceChar:function(b){b=b.replace(new RegExp("\\{1}","gim"),"\\\\");b=b.replace(new RegExp("(\n{1})","gim"),"\\n");b=b.replace(new RegExp('"{1}',"gim"),'\\"');return b;},tryInvoke:function(c){try{return c();}catch(b){}}};a.compile=function(e){e=e||"";a.helper.codeExp.lastIndex=0;a.helper.codeBeginExp.lastIndex=0;a.helper.codeEndExp.lastIndex=0;var b=["var jtp={buffer:[],print:function(x){jtp.buffer.push(x);}};var $=jtp.print;"];var d=e.match(a.helper.codeExp);var c=e.replace(a.helper.codeExp,"▎").split("▎");for(var f=0;f<c.length;f++){b.push('jtp.print("'+a.helper.replaceChar(c[f])+'");');if(d&&d[f]){b.push(d[f].replace(a.helper.codeBeginExp,"").replace(a.helper.codeEndExp,"")+";");}}b.push('return jtp.buffer.join("");');var g=function(){};a.helper.tryInvoke(function(){g=new Function(b.join(""));});return function(h){h=h||a||{};return a.helper.tryInvoke(function(){return g.call(h,h);});};};a.parse=function(d,b){var c=a.complete(d);return c(b);};})(typeof exports==="undefined"?jtp:exports);