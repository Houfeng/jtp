var jtp={};(function(a){a.helper={codeBegin:"<@",codeEnd:"@>",replaceChar:function(b){b=b.replace(new RegExp("\\{1}","gim"),"\\\\");b=b.replace(new RegExp("\r{1}","gim"),"");b=b.replace(new RegExp("\n{1}","gim"),"\\n");b=b.replace(new RegExp('"{1}',"gim"),'\\"');return b;},tryInvoke:function(c){try{return c();}catch(b){}}};a.compile=function(b,j){b=b||"";j=j||{};j.codeBegin=j.codeBegin||a.helper.codeBegin;j.codeEnd=j.codeEnd||a.helper.codeEnd;var g=new RegExp(j.codeBegin,"gim");var h=new RegExp(j.codeEnd,"gim");var c=new RegExp("("+j.codeBegin+"(.|\n)*?"+j.codeEnd+")","gim");var e=["var jtp={buffer:[],print:function(x){jtp.buffer.push(x);}};var $=jtp.print;"];var l=b.match(c);var m=b.replace(c,"▎").split("▎");for(var f=0;f<m.length;f++){e.push('jtp.print("'+a.helper.replaceChar(m[f])+'");');if(l&&l[f]){e.push(l[f].replace(g,"").replace(h,"")+";");}}e.push('return jtp.buffer.join("");');var d=function(){};a.helper.tryInvoke(function(){d=new Function(e.join(""));});var k=function(i){i=i||a||{};return a.helper.tryInvoke(function(){return d.call(i,i);});};k.src=d;return k;};a.parse=function(e,b,d){var c=a.compile(e,d);return c(b);};})(typeof exports==="undefined"?jtp:exports);