/*csd*//**
 * tp 3.6.0
 * tp 模板引擎，最简洁高效的js模板引擎
 * tp 可应用于Node.js，也可以在浏览器环境下使用。
 * 作者：侯锋
 * 邮箱：admin@xhou.net
 * 网站：http://houfeng.net , http://tp.houfeng.net
 */
 (function(i){i.version="3.6.0";function h(j){if(!j){return"";}j=j.replace(new RegExp("\\{1}","gim"),"\\\\");j=j.replace(new RegExp("\r{1}","gim"),"");j=j.replace(new RegExp("\n{1}","gim"),"\\n");j=j.replace(new RegExp("\r{1}","gim"),"\\r");j=j.replace(new RegExp('"{1}',"gim"),'\\"');return j;}function g(j){if(!j){return"";}return j.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&");}function f(j,l){for(var k in j){if(j[k]===l){return true;}}return false;}function b(k,l){try{return k();}catch(j){j.message=j.message||"";j.stack=j.stack||"";j.message=l+" : "+j.message+"\r\n    "+j.stack;throw j;}}var e={};function d(l,j){if(!l){return;}j=j||e;for(var k in l){if(!f(["func","push","model","buffer"],k)){j[k]=l[k];}else{throw'Can not expand "'+k+' function"';}}}function c(k,n,j){var l=function(o){l.push(o);};l.push=function(o){l.buffer.push(o);};for(var m in j){if(j[m]){d(j[m],l);}}l.func=k;l.model=n||{};l.buffer=[];return l;}function a(v,t){v=v||"";t=t||{};var k=t.codeBegin||i.codeBegin;var o=t.codeEnd||i.codeEnd;var l=new RegExp(k,"gim");var p=new RegExp(o,"gim");var q=new RegExp("("+k+"(.|\\\n|\\\r)*?"+o+")","gim");var u=new RegExp(k+"\\s*=","gim");var n=[];var m=v.match(q)||[];var x=v.replace(q,"▎").split("▎")||[];for(var s=0;s<x.length;s++){var w=h(x[s]);var j=m[s];n.push('$.push("'+w+'")');if(j!==null&&typeof j!=="undefined"){u.lastIndex=0;if(u.test(j)){j="$.push("+j.replace(u,"").replace(p,"")+")";}else{j=j.replace(l,"").replace(p,"");}n.push(j);}}n.push('return $.buffer.join("");');var r=function(A,y){y=y||{};var z=c(r,A,[e,t.extend,y.extend]);return b(function(){z.result=(z.func.src.call(z.model,z,z.model)||"");return y.returnHandler?z:z.result;},"Template execute error");};b(function(){r.src=new Function("$","$$",n.join(";"));},"Template compile error");return r;}i.codeBegin="<%";i.codeEnd="%>";i.extend=d;i.compile=function(k,j){return a(k,j);};i.parse=function(n,l,m,j){var k=a(n,m);return k(l,j);};if(typeof window!=="undefined"&&window.document){i.query=function(j){return window.document.getElementById(j);};i.bind=function(j){j=j||{};var k=j.query||i.query;j.el=j.el||j.element;j.el=(typeof j.el==="string")?k(j.el):j.el;j.tp=j.tp||j.template||j.el;j.tp=(typeof j.tp==="string")?(k(j.tp)||j.tp):j.tp;if(!j.tp||!j.el){return;}var l=a(g(j.tp.innerHTML||j.tp),j);if(j.append){j.el.innerHTML+=l(j.model);}else{j.el.innerHTML=l(j.model);}};}})((function(){var a={};if(typeof exports!=="undefined"){a=exports;a.env=a.env||[];a.env.push("commaonjs");}if(typeof define==="function"&&define.amd){a.env=a.env||[];a.env.push("amd");define("tp",[],function(){return a;});}if(a.env==null||a.env.length<1){a.env=a.env||[];a.env.push("general");this.tp=a;}return a;})());