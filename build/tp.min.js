/**
 * tp.js - 最简洁高效的js模板引擎!
 * @version v3.6.1
 * @link http://houfeng.net/tp
 * @license MIT
 * @author Houfeng
 * @email admin@xhou.net
 */
!function(e){"use strict";function n(e){return e?(e=e.replace(new RegExp("\\{1}","gim"),"\\\\"),e=e.replace(new RegExp("\r{1}","gim"),""),e=e.replace(new RegExp("\n{1}","gim"),"\\n"),e=e.replace(new RegExp("\r{1}","gim"),"\\r"),e=e.replace(new RegExp('"{1}',"gim"),'\\"')):""}function r(e){return e?e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"):""}function t(e,n){for(var r in e)if(e[r]===n)return!0;return!1}function u(e,n){try{return e()}catch(r){throw r.message=r.message||"",r.stack=r.stack||"",r.message=n+" : "+r.message+"\r\n    "+r.stack,r}}function p(e,n){if(e){n=n||c;for(var r in e){if(t(["func","push","model","buffer"],r))throw'Can not expand "'+r+' function"';n[r]=e[r]}}}function i(e,n,r){var t=function(e){t.push(e)};t.push=function(e){t.buffer.push(e)};for(var u in r)r[u]&&p(r[u],t);return t.func=e,t.model=n||{},t.buffer=[],t}function o(r,t){r=r||"",t=t||{};for(var p=t.codeBegin||e.codeBegin,o=t.codeEnd||e.codeEnd,f=new RegExp(p,"gim"),l=new RegExp(o,"gim"),a=new RegExp("("+p+"(.|\\\n|\\\r)*?"+o+")","gim"),s=new RegExp(p+"\\s*=","gim"),d=[],g=r.match(a)||[],m=r.replace(a,"▎").split("▎")||[],v=0;v<m.length;v++){var h=n(m[v]),w=g[v];d.push('$.push("'+h+'")'),null!==w&&"undefined"!=typeof w&&(s.lastIndex=0,w=s.test(w)?"$.push("+w.replace(s,"").replace(l,"")+")":w.replace(f,"").replace(l,""),d.push(w))}d.push('return $.buffer.join("");');var x=function(e,n){n=n||{};var r=i(x,e,[c,t.extend,n.extend]);return u(function(){return r.result=r.func.src.call(r.model,r,r.model)||"",n.returnHandler?r:r.result},"Template execute error")};return u(function(){x.src=new Function("$","$$",d.join(";"))},"Template compile error"),x}e.version="3.6.1";var c={};e.codeBegin="<%",e.codeEnd="%>",e.extend=p,e.compile=function(e,n){return o(e,n)},e.parse=function(e,n,r,t){var u=o(e,r);return u(n,t)},"undefined"!=typeof window&&window.document&&(e.query=function(e){return window.document.getElementById(e)},e.bind=function(n){n=n||{};var t=n.query||e.query;if(n.el=n.el||n.element,n.el="string"==typeof n.el?t(n.el):n.el,n.tp=n.tp||n.template||n.el,n.tp="string"==typeof n.tp?t(n.tp)||n.tp:n.tp,n.tp&&n.el){var u=o(r(n.tp.innerHTML||n.tp),n);n.append?n.el.innerHTML+=u(n.model):n.el.innerHTML=u(n.model)}})}(function(){var e={};return"undefined"!=typeof exports&&(e=exports,e.env=e.env||[],e.env.push("commaonjs")),"function"==typeof define&&define.amd&&(e.env=e.env||[],e.env.push("amd"),define("tp",[],function(){return e})),(null==e.env||e.env.length<1)&&(e.env=e.env||[],e.env.push("general"),this.tp=e),e}());